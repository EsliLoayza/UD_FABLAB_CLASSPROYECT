<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 9: Fundamentos del Fresado CNC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #111827; /* slate-900 */
            color: #E5E7EB; /* gray-200 */
        }
        .gradient-text {
            background-image: linear-gradient(to right, #f97316, #facc15);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .card {
            background-color: #1f2937; /* slate-800 */
            border: 1px solid #374151; /* slate-700 */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(249, 115, 22, 0.1);
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button:hover {
            box-shadow: 0 0 15px rgba(249, 115, 22, 0.5);
        }
        .tool-button {
            transition: all 0.2s ease-in-out;
            border: 2px solid #374151;
        }
        .tool-button:hover, .tool-button.active {
            background-color: #374151;
            border-color: #f97316;
        }
        .cam-select {
            background-color: #374151;
            border: 1px solid #4b5563;
        }
        .feedback {
            transition: opacity 0.5s ease;
        }
        .correct-answer { color: #4ade80; /* green-400 */ }
        .incorrect-answer { color: #f87171; /* red-400 */ }

        /* Simulaci√≥n de Profundidad */
        #depth-sim-container {
            position: relative;
            width: 100%;
            height: 120px;
            background: linear-gradient(to bottom, #a16207, #ca8a04);
            border-radius: 8px;
            overflow: hidden;
        }
        #end-mill-sim {
            position: absolute;
            bottom: 80px;
            left: 10px;
            width: 20px;
            height: 60px;
            background: #9ca3af;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            transition: transform 1s ease-in-out;
        }
        .cut-pass {
            position: absolute;
            left: 30px;
            right: 0;
            background: #854d0e;
            opacity: 0.7;
            animation: cut-animation 1s forwards;
        }
        @keyframes cut-animation {
            from { width: 0; }
            to { width: calc(100% - 30px); }
        }

    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-5xl mx-auto">

        <!-- Encabezado -->
        <header class="text-center mb-12">
            <h3 class="text-lg text-orange-500 font-semibold tracking-wider">FABRICACI√ìN DIGITAL</h3>
            <h1 class="text-4xl md:text-6xl font-bold mt-2 gradient-text">Semana 09</h1>
            <h2 class="text-2xl md:text-3xl font-light text-gray-300 mt-2">Fundamentos del Fresado CNC</h2>
        </header>

        <main>
            <!-- Secci√≥n 1: Ejes de Movimiento -->
            <section class="card rounded-xl p-6 md:p-8 mb-12">
                <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5" /></svg>
                    El Espacio de Trabajo: Ejes X, Y, Z
                </h3>
                <p class="text-gray-400 mb-6">
                    A diferencia del l√°ser, la fresadora CNC es una m√°quina **sustractiva** que esculpe material en 3 dimensiones. Para ello, se mueve en tres ejes. Pasa el cursor sobre cada eje para ver su funci√≥n.
                </p>
                <div class="h-64 flex items-center justify-center bg-slate-900 rounded-lg p-4" style="perspective: 1000px;">
                    <div id="cnc-cube" class="relative w-32 h-32" style="transform-style: preserve-3d; transform: rotateX(-20deg) rotateY(30deg);">
                        <!-- Caras del cubo -->
                        <div class="absolute w-32 h-32 border-2 border-orange-500 opacity-30" style="transform: rotateY(0deg) translateZ(64px);"></div>
                        <div class="absolute w-32 h-32 border-2 border-orange-500 opacity-30" style="transform: rotateY(90deg) translateZ(64px);"></div>
                        <div class="absolute w-32 h-32 border-2 border-orange-500 opacity-30" style="transform: rotateX(90deg) translateZ(64px);"></div>
                        <!-- Ejes -->
                        <div class="absolute top-1/2 left-0 w-48 h-1 bg-cyan-400 -translate-y-1/2" style="transform: translateZ(0px);"></div>
                        <div class="absolute top-0 left-1/2 w-1 h-48 bg-lime-400 -translate-x-1/2" style="transform: rotateX(90deg) translateZ(0px);"></div>
                        <div class="absolute top-1/2 left-1/2 w-1 h-48 bg-pink-500 -translate-x-1/2 -translate-y-1/2" style="transform: rotateY(90deg) translateZ(0px) rotateZ(-90deg);"></div>
                    </div>
                </div>
            </section>
            
            <!-- Secci√≥n 2: Selecci√≥n de Herramientas -->
            <section class="card rounded-xl p-6 md:p-8 mb-12">
                <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>
                    La Caja de Herramientas del Escultor Digital
                </h3>
                <p class="text-gray-400 mb-6">
                    Cada fresa (end mill) tiene un prop√≥sito. Elegir la correcta es clave para el √©xito. Haz clic en cada una para conocer su especialidad.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="flex flex-col md:flex-row gap-4">
                        <div id="tool-selector" class="flex md:flex-col gap-2">
                           <button class="tool-button active p-2 rounded-lg" data-tool="plana">
                                <img src="https://placehold.co/80x80/111827/ffffff?text=Plana" alt="[Imagen de una fresa plana]" class="rounded-md">
                           </button>
                           <button class="tool-button p-2 rounded-lg" data-tool="esferica">
                                <img src="https://placehold.co/80x80/111827/ffffff?text=Esf√©rica" alt="[Imagen de una fresa esf√©rica]" class="rounded-md">
                           </button>
                           <button class="tool-button p-2 rounded-lg" data-tool="vbit">
                                <img src="https://placehold.co/80x80/111827/ffffff?text=En+V" alt="[Imagen de una fresa en V]" class="rounded-md">
                           </button>
                        </div>
                    </div>
                    <div id="tool-info" class="bg-slate-900 p-6 rounded-lg">
                        <h4 id="tool-name" class="text-xl font-bold text-orange-400">Fresa Plana (Flat End Mill)</h4>
                        <p id="tool-desc" class="mt-2 text-gray-300">Es el caballo de batalla. Perfecta para vaciados de √°reas planas, crear "cajeras" y cortar los perfiles exteriores de tus piezas.</p>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n 3: Planificador CAM -->
            <section class="card rounded-xl p-6 md:p-8 mb-12">
                 <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M12 6V3m0 18v-3" /></svg>
                    Planificador CAM Interactivo
                </h3>
                <p class="text-gray-400 mb-6">
                    Tu dise√±o 2D necesita instrucciones. Define las operaciones para fabricar este posavasos. Elige la herramienta y la trayectoria (toolpath) correctas para cada paso.
                </p>
                <div class="bg-slate-900 rounded-lg p-4 grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1 flex items-center justify-center">
                        <img src="https://placehold.co/200x200/1e293b/f97316?text=Dise√±o+Posavasos" alt="[Dise√±o de un posavasos con una letra en el centro]" class="rounded-lg">
                    </div>
                    <div class="md:col-span-2 space-y-6">
                        <!-- Operaci√≥n 1 -->
                        <div>
                            <label class="block font-bold text-lg">1. Tallar la inicial (Bajo relieve)</label>
                            <div class="flex gap-2 mt-2">
                                <select id="op1-tool" class="cam-select w-1/2 p-2 rounded-md">
                                    <option value="">Selecciona Fresa</option>
                                    <option value="plana">Fresa Plana</option>
                                    <option value="esferica">Fresa Esf√©rica</option>
                                </select>
                                <select id="op1-path" class="cam-select w-1/2 p-2 rounded-md">
                                    <option value="">Selecciona Trayectoria</option>
                                    <option value="pocket">Pocket (Vaciado)</option>
                                    <option value="profile">Profile (Perfilado)</option>
                                </select>
                            </div>
                             <p id="feedback1" class="text-sm mt-1 h-5 feedback opacity-0"></p>
                        </div>
                        <!-- Operaci√≥n 2 -->
                        <div>
                             <label class="block font-bold text-lg">2. Cortar el contorno exterior</label>
                            <div class="flex gap-2 mt-2">
                                <select id="op2-tool" class="cam-select w-1/2 p-2 rounded-md">
                                    <option value="">Selecciona Fresa</option>
                                    <option value="plana">Fresa Plana</option>
                                    <option value="vbit">Fresa en V</option>
                                </select>
                                <select id="op2-path" class="cam-select w-1/2 p-2 rounded-md">
                                    <option value="">Selecciona Trayectoria</option>
                                    <option value="pocket">Pocket (Vaciado)</option>
                                    <option value="profile">Profile (Perfilado)</option>
                                </select>
                            </div>
                             <p id="feedback2" class="text-sm mt-1 h-5 feedback opacity-0"></p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Secci√≥n 4: Profundidad de Corte -->
            <section class="card rounded-xl p-6 md:p-8 mb-12">
                 <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                    El Par√°metro CR√çTICO: Profundidad por Pasada
                </h3>
                <p class="text-gray-400 mb-6">
                    Intentar cortar demasiado profundo de una sola vez es la causa #1 de fresas rotas. Siempre se trabaja en m√∫ltiples pasadas superficiales. Ajusta el control y observa la simulaci√≥n.
                </p>
                <input type="range" id="depth-slider" min="1" max="10" value="2" step="1" class="w-full">
                <div class="flex justify-between text-xs mt-1">
                    <span>Seguro (m√∫ltiples pasadas)</span>
                    <span>Peligroso (una sola pasada)</span>
                </div>
                <div id="depth-sim-container" class="mt-4">
                    <div id="end-mill-sim"></div>
                    <div id="cut-paths-container"></div>
                </div>
                <p id="depth-feedback" class="text-center mt-4 font-bold text-xl"></p>
            </section>
        </main>

        <!-- Navegaci√≥n -->
        <footer class="mt-12 flex justify-between items-center">
             <a href="#" class="nav-button bg-slate-700 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg flex items-center space-x-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                <span>Semana 8</span>
            </a>
            <span class="text-sm text-gray-500">M√≥dulo Interactivo</span>
             <a href="#" class="nav-button bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 px-6 rounded-lg flex items-center space-x-2">
                <span>Semana 10</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" /></svg>
            </a>
        </footer>
    </div>

    <script>
        // --- Selecci√≥n de Herramientas ---
        const toolButtons = document.querySelectorAll('.tool-button');
        const toolName = document.getElementById('tool-name');
        const toolDesc = document.getElementById('tool-desc');
        const toolData = {
            plana: { name: 'Fresa Plana (Flat End Mill)', desc: 'Es el caballo de batalla. Perfecta para vaciados de √°reas planas, crear "cajeras" y cortar los perfiles exteriores de tus piezas.' },
            esferica: { name: 'Fresa Esf√©rica (Ball End Mill)', desc: 'Ideal para superficies 3D con curvas suaves y contornos org√°nicos. Deja un acabado redondeado, sin escalones.' },
            vbit: { name: 'Fresa en V (V-Bit)', desc: 'Especialista en grabado de texto y detalles finos. Su punta afilada permite crear l√≠neas n√≠tidas y bordes biselados (chaflanes).' }
        };

        toolButtons.forEach(button => {
            button.addEventListener('click', () => {
                toolButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                const toolKey = button.dataset.tool;
                toolName.textContent = toolData[toolKey].name;
                toolDesc.textContent = toolData[toolKey].desc;
            });
        });

        // --- Planificador CAM ---
        const op1Tool = document.getElementById('op1-tool');
        const op1Path = document.getElementById('op1-path');
        const op2Tool = document.getElementById('op2-tool');
        const op2Path = document.getElementById('op2-path');
        const feedback1 = document.getElementById('feedback1');
        const feedback2 = document.getElementById('feedback2');

        function checkOp1() {
            if (op1Tool.value && op1Path.value) {
                feedback1.style.opacity = 1;
                if (op1Tool.value === 'plana' && op1Path.value === 'pocket') {
                    feedback1.textContent = '¬°Correcto! La fresa plana y el vaciado son perfectos para esto.';
                    feedback1.className = 'text-sm mt-1 h-5 feedback opacity-100 correct-answer';
                } else {
                    feedback1.textContent = 'Intenta de nuevo. Piensa en limpiar un √°rea plana.';
                    feedback1.className = 'text-sm mt-1 h-5 feedback opacity-100 incorrect-answer';
                }
            }
        }

        function checkOp2() {
            if (op2Tool.value && op2Path.value) {
                feedback2.style.opacity = 1;
                 if (op2Tool.value === 'plana' && op2Path.value === 'profile') {
                    feedback2.textContent = '¬°Exacto! El perfilado con fresa plana es la opci√≥n est√°ndar.';
                    feedback2.className = 'text-sm mt-1 h-5 feedback opacity-100 correct-answer';
                } else {
                    feedback2.textContent = 'Casi... ¬øQu√© trayectoria sigue el contorno exterior?';
                    feedback2.className = 'text-sm mt-1 h-5 feedback opacity-100 incorrect-answer';
                }
            }
        }
        
        op1Tool.addEventListener('change', checkOp1);
        op1Path.addEventListener('change', checkOp1);
        op2Tool.addEventListener('change', checkOp2);
        op2Path.addEventListener('change', checkOp2);
        
        // --- Simulaci√≥n Profundidad de Corte ---
        const depthSlider = document.getElementById('depth-slider');
        const cutPathsContainer = document.getElementById('cut-paths-container');
        const depthFeedback = document.getElementById('depth-feedback');
        const totalDepth = 100; // Representa la profundidad total del material en pixeles

        function runDepthSimulation() {
            const depthPerPass = parseInt(depthSlider.value) * (totalDepth / 10);
            const numPasses = Math.ceil(totalDepth / depthPerPass);
            
            cutPathsContainer.innerHTML = ''; // Limpiar simulaci√≥n anterior

            for(let i=0; i < numPasses; i++) {
                const pass = document.createElement('div');
                pass.className = 'cut-pass';
                pass.style.height = `${depthPerPass}px`;
                pass.style.top = `${i * depthPerPass}px`;
                pass.style.animationDelay = `${i * 0.2}s`;
                cutPathsContainer.appendChild(pass);
            }
            
            if (numPasses > 4) {
                depthFeedback.textContent = '‚úÖ Seguro y Controlado';
                depthFeedback.className = 'text-center mt-4 font-bold text-xl correct-answer';
            } else if (numPasses > 1) {
                depthFeedback.textContent = 'üëå Aceptable, pero con cuidado';
                depthFeedback.className = 'text-center mt-4 font-bold text-xl text-yellow-400';
            } else {
                depthFeedback.textContent = '‚ùå ¬°PELIGRO! Riesgo de romper la fresa.';
                depthFeedback.className = 'text-center mt-4 font-bold text-xl incorrect-answer';
            }
        }

        depthSlider.addEventListener('input', runDepthSimulation);
        runDepthSimulation(); // Carga inicial

    </script>

</body>
</html>
