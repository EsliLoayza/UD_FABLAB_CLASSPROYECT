<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 11: Integración de Tecnologías</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #111827; /* slate-900 */
            color: #E5E7EB; /* gray-200 */
        }
        .gradient-text {
            background-image: linear-gradient(to right, #a855f7, #ec4899);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .card {
            background-color: #1f2937; /* slate-800 */
            border: 1px solid #374151; /* slate-700 */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(168, 85, 247, 0.1);
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button:hover {
            box-shadow: 0 0 15px rgba(168, 85, 247, 0.5);
        }
        .draggable {
            cursor: grab;
            transition: all 0.2s ease;
        }
        .draggable:active {
            cursor: grabbing;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.5);
        }
        .drop-zone {
            border: 2px dashed #4b5563;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        .drop-zone.over {
            background-color: #374151;
            border-color: #a855f7;
        }
        /* Tolerance Simulator */
        #pin {
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform-origin: bottom center;
        }
        .planner-row select {
            background-color: #374151;
            border: 1px solid #4b5563;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-5xl mx-auto">

        <!-- Encabezado -->
        <header class="text-center mb-12">
            <h3 class="text-lg text-purple-400 font-semibold tracking-wider">FABRICACIÓN DIGITAL</h3>
            <h1 class="text-4xl md:text-6xl font-bold mt-2 gradient-text">Semana 11</h1>
            <h2 class="text-2xl md:text-3xl font-light text-gray-300 mt-2">Integración de Tecnologías</h2>
        </header>

        <main>
            <!-- Sección 1: La Matriz de Decisión -->
            <section class="card rounded-xl p-6 md:p-8 mb-12">
                <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
                    Elige tu Herramienta Sabiamente
                </h3>
                <p class="text-gray-400 mb-6">
                    Eres el Jefe de Proyecto. Arrastra cada componente a la máquina más adecuada para fabricarlo.
                </p>
                <div class="flex flex-col md:flex-row gap-4 items-center">
                    <div id="components-list" class="flex md:flex-col gap-4 w-full md:w-1/3">
                        <div class="draggable bg-slate-900 p-3 rounded-lg text-center" draggable="true" data-component="cnc">
                            <p class="font-bold">[Imagen de un soporte de motor]</p>
                            <p class="text-sm">Base Sólida y Estructural</p>
                        </div>
                         <div class="draggable bg-slate-900 p-3 rounded-lg text-center" draggable="true" data-component="laser">
                            <p class="font-bold">[Imagen de engranajes planos]</p>
                             <p class="text-sm">Piezas 2D de Precisión</p>
                        </div>
                        <div class="draggable bg-slate-900 p-3 rounded-lg text-center" draggable="true" data-component="3d">
                            <p class="font-bold">[Imagen de una carcasa curva]</p>
                            <p class="text-sm">Carcasa con Forma Orgánica</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 gap-4 w-full md:w-2/3">
                        <div class="drop-zone p-4 rounded-lg h-24 flex items-center justify-center" data-machine="cnc">
                            <p class="font-bold text-gray-500">Fresadora CNC</p>
                        </div>
                        <div class="drop-zone p-4 rounded-lg h-24 flex items-center justify-center" data-machine="laser">
                            <p class="font-bold text-gray-500">Corte Láser</p>
                        </div>
                        <div class="drop-zone p-4 rounded-lg h-24 flex items-center justify-center" data-machine="3d">
                            <p class="font-bold text-gray-500">Impresión 3D</p>
                        </div>
                    </div>
                </div>
                <p id="feedback-dnd" class="text-center mt-4 h-5 font-bold"></p>
            </section>
            
            <!-- Sección 2: El Secreto del Ensamblaje -->
            <section class="card rounded-xl p-6 md:p-8 mb-12">
                <h3 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                    El Secreto del Ensamblaje: Tolerancias
                </h3>
                <p class="text-gray-400 mb-6">
                    Un pin de 10mm NO cabe en un agujero de 10mm. Ajusta el diámetro del agujero para lograr un ensamblaje perfecto.
                </p>
                <div class="flex items-end justify-center h-48 bg-slate-900 rounded-lg p-4 gap-4">
                    <div class="text-center">
                        <div class="h-32 w-12 bg-pink-500 rounded-t-md flex items-end justify-center" id="pin">
                           <p class="text-xs font-mono mb-1">10.0mm</p>
                        </div>
                        <p class="text-sm mt-1">Pin</p>
                    </div>
                    <div class="text-center">
                        <div class="h-24 w-20 border-t-8 border-x-8 border-purple-500" id="hole"></div>
                        <p class="text-sm mt-1">Agujero</p>
                    </div>
                </div>
                <div class="mt-4">
                    <label for="tolerance-slider" class="block text-center font-mono" id="slider-label">Diámetro del Agujero: 10.0mm</label>
                    <input type="range" id="tolerance-slider" min="9.8" max="10.6" value="10.0" step="0.1" class="w-full mt-2">
                </div>
                <div class="text-center mt-4">
                     <button id="assemble-btn" class="bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 px-6 rounded-lg">Intentar Ensamblar</button>
                     <p id="feedback-tolerance" class="mt-2 font-bold h-5"></p>
                </div>
            </section>

            <!-- Sección 3: Planificador de Proyectos -->
            <section class="card rounded-xl p-6 md:p-8 mb-12">
                <h3 class="text-2xl font-bold mb-4 flex items-center">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                    Desafío: Planificador de Proyectos
                </h3>
                <p class="text-gray-400 mb-6">
                    Tu cliente necesita un organizador de escritorio. Asigna la mejor tecnología a cada parte para crear un producto viable y de alta calidad.
                </p>
                <div class="space-y-4">
                    <!-- Base -->
                    <div class="planner-row p-3 bg-slate-900 rounded-lg">
                        <label for="plan-base" class="font-bold">1. Base Principal (Pesada y estable)</label>
                        <select id="plan-base" class="w-full mt-2 p-2 rounded">
                            <option value="">Selecciona una tecnología...</option>
                            <option value="cnc">Fresado CNC</option>
                            <option value="laser">Corte Láser</option>
                            <option value="3d">Impresión 3D</option>
                        </select>
                    </div>
                     <!-- Soporte Celular -->
                    <div class="planner-row p-3 bg-slate-900 rounded-lg">
                        <label for="plan-holder" class="font-bold">2. Soporte para Celular (Forma ergonómica)</label>
                        <select id="plan-holder" class="w-full mt-2 p-2 rounded">
                            <option value="">Selecciona una tecnología...</option>
                            <option value="cnc">Fresado CNC</option>
                            <option value="laser">Corte Láser</option>
                            <option value="3d">Impresión 3D</option>
                        </select>
                    </div>
                    <!-- Divisores -->
                     <div class="planner-row p-3 bg-slate-900 rounded-lg">
                        <label for="plan-dividers" class="font-bold">3. Divisores Internos (Delgados y precisos)</label>
                        <select id="plan-dividers" class="w-full mt-2 p-2 rounded">
                            <option value="">Selecciona una tecnología...</option>
                            <option value="cnc">Fresado CNC</option>
                            <option value="laser">Corte Láser</option>
                            <option value="3d">Impresión 3D</option>
                        </select>
                    </div>
                </div>
                <div class="text-center mt-6">
                    <button id="check-plan-btn" class="bg-pink-600 hover:bg-pink-500 text-white font-bold py-3 px-8 rounded-lg">Revisar mi Plan</button>
                    <div id="feedback-plan" class="mt-4 text-left space-y-2"></div>
                </div>
            </section>
        </main>

        <!-- Navegación -->
        <footer class="mt-12 flex justify-between items-center">
        <div class="container mx-auto text-center">
            <p class="font-bold text-lg">Navegación del Curso</p>
            <div class="mt-4 flex justify-center space-x-6">
                <a href="sesion-10.html" class="hover:text-amber-300">← Volver a Sesión 10</a>
                <span class="text-blue-400">|</span>
                <a href="sesion-12.html" class="hover:text-amber-300">Ir a Sesión 12 →</a>
            </div>
            <p class="mt-6 text-sm text-blue-200">Módulo Interactivo creado para el IEST "Carlos Salazar Romero" | 2025</p>
        </div>
        </footer>
    </div>

    <script>
        // --- Drag and Drop Logic ---
        const draggables = document.querySelectorAll('.draggable');
        const dropZones = document.querySelectorAll('.drop-zone');
        const dndFeedback = document.getElementById('feedback-dnd');

        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggable.classList.add('opacity-50');
            });
            draggable.addEventListener('dragend', () => {
                draggable.classList.remove('opacity-50');
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                zone.classList.add('over');
            });
            zone.addEventListener('dragleave', () => {
                zone.classList.remove('over');
            });
            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('over');
                const componentType = document.querySelector('.opacity-50').dataset.component;
                const machineType = zone.dataset.machine;

                if (componentType === machineType) {
                    dndFeedback.textContent = '¡Elección Perfecta!';
                    dndFeedback.style.color = '#4ade80'; // green-400
                    const droppedElement = document.querySelector('.opacity-50');
                    zone.innerHTML = '';
                    zone.appendChild(droppedElement.cloneNode(true));
                } else {
                    dndFeedback.textContent = 'Inténtalo de nuevo. ¿Esa es la máquina más eficiente?';
                    dndFeedback.style.color = '#f87171'; // red-400
                }
                 setTimeout(() => { dndFeedback.textContent = '' }, 2000);
            });
        });

        // --- Tolerance Simulator Logic ---
        const toleranceSlider = document.getElementById('tolerance-slider');
        const sliderLabel = document.getElementById('slider-label');
        const assembleBtn = document.getElementById('assemble-btn');
        const pin = document.getElementById('pin');
        const toleranceFeedback = document.getElementById('feedback-tolerance');

        toleranceSlider.addEventListener('input', (e) => {
            const value = parseFloat(e.target.value).toFixed(1);
            sliderLabel.textContent = `Diámetro del Agujero: ${value}mm`;
        });

        assembleBtn.addEventListener('click', () => {
            const holeDiameter = parseFloat(toleranceSlider.value);
            pin.style.transform = 'translateY(0)'; // reset position
            toleranceFeedback.textContent = '';
            
            setTimeout(() => {
                if (holeDiameter >= 10.2 && holeDiameter <= 10.4) {
                    pin.style.transform = 'translateY(-60px)';
                    toleranceFeedback.textContent = '✅ ¡Ajuste Perfecto!';
                    toleranceFeedback.style.color = '#4ade80';
                } else if (holeDiameter < 10.2) {
                     pin.style.transform = 'translateY(-10px)';
                    toleranceFeedback.textContent = '❌ ¡No Encaja! Demasiado apretado.';
                    toleranceFeedback.style.color = '#f87171';
                } else {
                     pin.style.transform = 'translateY(-60px)';
                    toleranceFeedback.textContent = '⚠️ Encaja, pero está demasiado suelto.';
                    toleranceFeedback.style.color = '#facc15'; // yellow-400
                }
            }, 100);
        });

        // --- Project Planner Logic ---
        const checkPlanBtn = document.getElementById('check-plan-btn');
        const feedbackPlan = document.getElementById('feedback-plan');
        const planChoices = {
            base: { correct: 'cnc', feedback: 'Base: ¡Correcto! La Fresadora CNC es ideal para una base sólida y pesada de madera.' },
            holder: { correct: '3d', feedback: 'Soporte Celular: ¡Bien pensado! La Impresión 3D permite crear formas ergonómicas y complejas fácilmente.' },
            dividers: { correct: 'laser', feedback: 'Divisores: ¡Exacto! El Corte Láser ofrece la máxima precisión y rapidez para piezas planas como los divisores.' }
        };

        checkPlanBtn.addEventListener('click', () => {
            feedbackPlan.innerHTML = '';
            const baseChoice = document.getElementById('plan-base').value;
            const holderChoice = document.getElementById('plan-holder').value;
            const dividersChoice = document.getElementById('plan-dividers').value;
            
            let allCorrect = true;

            function createFeedbackLine(message, isCorrect) {
                const p = document.createElement('p');
                p.textContent = message;
                p.className = isCorrect ? 'text-green-400' : 'text-red-400';
                feedbackPlan.appendChild(p);
            }

            // Check Base
            if (baseChoice === planChoices.base.correct) {
                createFeedbackLine(`1. ${planChoices.base.feedback}`, true);
            } else {
                 createFeedbackLine('1. Base: Revisa tu elección. Para una base sólida y pesada, ¿qué máquina es mejor para esculpir un bloque de material?', false);
                 allCorrect = false;
            }
             // Check Holder
            if (holderChoice === planChoices.holder.correct) {
                 createFeedbackLine(`2. ${planChoices.holder.feedback}`, true);
            } else {
                 createFeedbackLine('2. Soporte Celular: Considera la geometría. Para una forma curva y personalizada, ¿qué tecnología es más flexible?', false);
                 allCorrect = false;
            }
             // Check Dividers
            if (dividersChoice === planChoices.dividers.correct) {
                 createFeedbackLine(`3. ${planChoices.dividers.feedback}`, true);
            } else {
                 createFeedbackLine('3. Divisores: Piensa en la eficiencia. Para cortar piezas planas y delgadas con alta precisión, ¿cuál es la herramienta más rápida?', false);
                 allCorrect = false;
            }
            
            if(allCorrect) {
                const p = document.createElement('p');
                p.textContent = '¡Excelente planificación! Has asignado cada parte a su tecnología ideal. Tu proyecto es viable y eficiente.';
                p.className = 'font-bold text-purple-400 mt-4';
                feedbackPlan.prepend(p);
            }
        });
    </script>

</body>
</html>

